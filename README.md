averyws
=======

-websocket server with boost::asio serving tasks that communicate with zmq  
-averyws aims to be a high-performance websocket server with authentication and permissioning (via Access Control Lists) at its core. (maybe caching as well)  
-averyws does not aim to be a general purpose websocket server. It aims to support best practices only. This is why aveyws will only work over SSL.  

todo:
=====
-ssl (http://www.boost.org/doc/libs/1_41_0/doc/html/boost_asio/example/ssl/server.cpp)  
-EOF to sockets that take too long to send incoming data. guidlines for now are 25ms (40bps) for the first byte and 50kbs for bytes thereafter integer rounded. The idea is that clients should implement a strong retry policy.  
-permissioning (shouldn't be too hard)  
-authentication (port https://github.com/matthewaveryusa/node_pg_acl to C++, should be easy)  
-control frames (ping/pong, should be easy)  
-authentication/encryption of backend clients (hmac) that are outside of localhost and the trusted network (whitelist todo) (pretty hard for me but should be easy for others)  
-have a really good protocol between the server and the backend clients. the current implementation is for proof of concept only  

-Major effort for logging should be done. probably at compile time

possible performance issues:
============================
-The sockets are read in a non-greedy way which implies more calls to the os (unless asio buffers) which degrades performance.  
-os of gcc4.7, unordered sets/maps are unstable and crash when the keys are shared pointers. The will eventually be resolved.  
-A heuristic is needed to clean the weak pointers that are no longer valid in the session_manager  

License:
========
Boost Software License - Version 1.0 - August 17th, 2003  
  
Permission is hereby granted, free of charge, to any person or organization  
obtaining a copy of the software and accompanying documentation covered by  
this license (the "Software") to use, reproduce, display, distribute,  
execute, and transmit the Software, and to prepare derivative works of the  
Software, and to permit third-parties to whom the Software is furnished to  
do so, all subject to the following:  
  
The copyright notices in the Software and this entire statement, including  
the above license grant, this restriction and the following disclaimer,  
must be included in all copies of the Software, in whole or in part, and  
all derivative works of the Software, unless such copies or derivative  
works are solely in the form of machine-executable object code generated by  
a source language processor.  
  
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR  
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  
FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT  
SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE  
FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,  
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER  
DEALINGS IN THE SOFTWARE.  

http://www.boost.org/LICENSE_1_0.txt  

